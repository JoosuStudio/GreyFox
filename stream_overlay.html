<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stream Stats Overlay</title>
    <style>
        /* --- Basic Setup & Customization --- */
        :root {
            --bar-height: 25px;
            --bar-background-color: #444;
            --text-color: #ffffff;
            --font-family: 'Arial', sans-serif;
            --label-width: 100px;
            --bar-container-width: 300px;
            --gap-between-elements: 10px;
            --container-padding: 10px;
            --bar-border-radius: 5px;
            --hunger-color: #ff9900;
            --mood-color: #4CAF50;
            --exhaustion-color: #3f51b5;
            --budget-color: #f44336;
        }

        body {
            font-family: var(--font-family);
            color: var(--text-color);
            background-color: transparent;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        #stats-overlay-container {
            padding: var(--container-padding);
            display: inline-block;
        }

        .stat-container {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            width: calc(var(--label-width) + var(--bar-container-width) + var(--gap-between-elements) * 2 + 50px);
        }

        .stat-container:last-child {
            margin-bottom: 0;
        }

        .stat-label {
            width: var(--label-width);
            flex-shrink: 0;
            margin-right: var(--gap-between-elements);
            text-align: right;
            font-weight: bold;
        }

        .bar-wrapper {
            width: var(--bar-container-width);
            height: var(--bar-height);
            background-color: var(--bar-background-color);
            border-radius: var(--bar-border-radius);
            overflow: hidden;
            position: relative;
            flex-grow: 1;
        }

        .bar-fill {
            height: 100%;
            width: 0%;
            border-radius: var(--bar-border-radius);
            transition: width 0.5s ease-in-out;
            background-color: var(--color, #ccc);
        }

        .stat-container[data-stat="hunger"] .bar-fill { --color: var(--hunger-color); }
        .stat-container[data-stat="mood"] .bar-fill { --color: var(--mood-color); }
        .stat-container[data-stat="exhaustion"] .bar-fill { --color: var(--exhaustion-color); }
        .stat-container[data-stat="budget"] .bar-fill { --color: var(--budget-color); }

        .stat-percentage {
            width: 50px;
            flex-shrink: 0;
            margin-left: var(--gap-between-elements);
            text-align: right;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div id="stats-overlay-container">
        <div class="stat-container" data-stat="hunger" data-value="75">
            <span class="stat-label">Hunger</span>
            <div class="bar-wrapper">
                <div class="bar-fill"></div>
            </div>
            <span class="stat-percentage">0%</span>
        </div>
        <div class="stat-container" data-stat="mood" data-value="50">
            <span class="stat-label">Mood</span>
            <div class="bar-wrapper">
                <div class="bar-fill"></div>
            </div>
            <span class="stat-percentage">0%</span>
        </div>
        <div class="stat-container" data-stat="exhaustion" data-value="20">
            <span class="stat-label">Exhaustion</span>
            <div class="bar-wrapper">
                <div class="bar-fill"></div>
            </div>
            <span class="stat-percentage">0%</span>
        </div>
        <div class="stat-container" data-stat="budget" data-value="90">
            <span class="stat-label">Daily Budget</span>
            <div class="bar-wrapper">
                <div class="bar-fill"></div>
            </div>
            <span class="stat-percentage">0%</span>
        </div>
    </div>

    <script>
        function updateStats() {
            const statContainers = document.querySelectorAll('.stat-container');
            statContainers.forEach(container => {
                const value = container.getAttribute('data-value');
                const barFill = container.querySelector('.bar-fill');
                const percentageText = container.querySelector('.stat-percentage');
                let clampedValue = Math.max(0, Math.min(100, parseInt(value) || 0));
                if (barFill) {
                    barFill.style.width = clampedValue + '%';
                }
                if (percentageText) {
                    percentageText.textContent = clampedValue + '%';
                }
            });
        }

        // Initial update on page load
        document.addEventListener('DOMContentLoaded', updateStats);

        // Periodically check for changes (e.g., when HTML is updated)
        setInterval(updateStats, 5000); // Check every 5 seconds

        // Watch for changes to data-value attributes
        const observer = new MutationObserver((mutations) => {
            mutations.forEach(mutation => {
                if (mutation.type === 'attributes' && mutation.attributeName === 'data-value') {
                    updateStats();
                }
            });
        });

        // Observe each stat-container for attribute changes
        document.querySelectorAll('.stat-container').forEach(container => {
            observer.observe(container, { attributes: true });
        });
    </script>
</body>
</html>