<!DOCTYPE html>
<html>
<head>
<title>Stream Overlay</title>
<meta charset="UTF-8">
<style>
  /* CSS stiilid */
  body {
    background-color: transparent; /* Oluline overlay jaoks */
    font-family: 'Trebuchet MS', 'Arial', sans-serif; /* VÃµi mÃµni muu sobiv font */
    color: white; /* Teksti vaikevÃ¤rv */
    margin: 0;
    padding: 15px; /* Ã„Ã¤rtest veidi ruumi */
    overflow: hidden; /* VÃ¤ldib kerimisribasid, kui sisu napilt Ã¼le mahub */
  }

  .overlay-container {
    display: flex;
    flex-direction: column; /* Elemendid Ã¼ksteise all */
    gap: 12px; /* Vahe elementide vahel */
    width: 280px; /* Overlay laius - muuda vastavalt vajadusele */
  }

  .data-item {
    background-color: rgba(30, 30, 30, 0.7); /* PoollÃ¤bipaistev tume taust */
    padding: 12px;
    border-radius: 6px;
    border: 1px solid rgba(100, 100, 100, 0.5);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3); /* Kerge vari */
  }

  .label {
    font-size: 0.95em;
    font-weight: bold;
    margin-bottom: 6px;
    text-shadow: 1px 1px 2px black; /* Teksti vari loetavuse parandamiseks */
    color: #eee; /* Sildi vÃ¤rv */
  }

  .progress-bar {
    width: 100%;
    height: 28px; /* Riba kÃµrgus */
    background-color: #555; /* TÃ¼hja riba taust */
    border-radius: 4px;
    overflow: hidden; /* Hoiab tÃ¤idise piirides */
    position: relative; /* Vajalik teksti positsioneerimiseks */
    border: 1px solid #777;
  }

  .progress-fill {
    height: 100%;
    background-color: #4CAF50; /* TÃ¤idise vaikevÃ¤rv (roheline) */
    border-radius: 4px 0 0 4px; /* Ãœmardab vasakpoolsed nurgad */
    transition: width 0.4s ease-out, background-color 0.4s ease; /* Sujuv Ã¼leminek laiusele ja vÃ¤rvile */
    width: 0%; /* Algne laius */
    box-shadow: inset 0 -2px 4px rgba(0,0,0,0.3); /* Sissepoole vari efektiks */
  }

  /* Ribade erivÃ¤rvid */
  #budget .progress-fill { background-color: #03A9F4; } /* Sinine eelarvele */
  #mood .progress-fill { background-color: #FFEB3B; color: #333; } /* Kollane tujule (tume tekst) */
  #energy .progress-fill { background-color: #FF9800; color: #333; } /* OranÅ¾ energiale */
  #fullness .progress-fill { background-color: #E91E63; color: #333; } /* Roosa tÃ¤iskÃµhule */

  .value-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 0.85em;
    font-weight: bold;
    color: white; /* Teksti vÃ¤rv riba peal */
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8); /* Tugevam vari loetavuse tagamiseks */
    white-space: nowrap; /* VÃ¤ldib teksti murdumist */
  }

  /* Teksti vÃ¤rvi muutmine heledal taustal (nt kollane tuju riba) */
  #mood .value-text { color: #333; text-shadow: none; }

</style>
</head>
<body>

<div class="overlay-container">
  <div class="data-item" id="budget">
    <div class="label">ğŸ¦ŠğŸ’¶ğŸª™ DAILY BUDGET ğŸª™ğŸ’¶ğŸ¦Š</div>
    <div class="progress-bar">
      <div class="progress-fill"></div>
      <div class="value-text"></div>
    </div>
  </div>
</div>

<style>
  .label {
    text-align: center;
  }
</style>

  <div class="data-item" id="mood">
    <div class="label">ğŸ¦ŠğŸ˜”ğŸ˜‘â˜ºï¸ MOOD â˜ºï¸ğŸ˜‘ğŸ˜”ğŸ¦Š</div>
    <div class="progress-bar">
      <div class="progress-fill"></div>
      <div class="value-text"></div>
    </div>
  </div>
</div>

<style>
  .label {
    text-align: center;
  }
</style>

  <div class="data-item" id="energy">
    <div class="label">âš¡ğŸ¦Š ENERGY âš¡ğŸ¦Š</div>
    <div class="progress-bar">
      <div class="progress-fill"></div>
      <div class="value-text"></div>
    </div>
  </div>
</div>

<style>
  .label {
    text-align: center;
  }
</style>

  <div class="data-item" id="fullness">
    <div class="label">ğŸ¦ŠğŸ”ğŸŒ®ğŸ• HUNGER ğŸ•ğŸŒ®ğŸ”ğŸ¦Š</div>
    <div class="progress-bar">
      <div class="progress-fill"></div>
      <div class="value-text"></div>
    </div>
  </div>
</div>

<style>
  .label {
    text-align: center;
  }
</style>

</div>

<script>
  // KÃ¤ivitub siis, kui HTML on laetud
  document.addEventListener('DOMContentLoaded', function() {

    // --- MUUDETAVAD VÃ„Ã„RTUSED ---
    // Muuda neid vÃ¤Ã¤rtusi vastavalt hetkeolukorrale
    let currentBudget = 3;    // Praegune eelarve (â‚¬)
    let targetBudget = 80;   // EesmÃ¤rk eelarve (â‚¬) - see on 100%
    let currentMood = 70;     // Praegune tuju (0-100 %)
    let currentEnergy = 60;   // Praegune energia (0-100 %)
    let currentFullness = 70; // Praegune kÃµhu tÃ¤isolu (0-100 %)
    // --- MUUDETAVAD VÃ„Ã„RTUSED LÃ•PEVAD ---

    // Abifunktsioon riba ja teksti uuendamiseks
    // elementId: HTML elemendi ID (nt 'budget')
    // currentValue: HetkevÃ¤Ã¤rtus (nt 75)
    // maxValue: VÃ¤Ã¤rtus, mis vastab 100%-le (nt 150 eelarve puhul, 100 teistel)
    // unit: Ãœhik, mida kuvada (nt 'â‚¬' vÃµi '%')
    function updateProgressBar(elementId, currentValue, maxValue, unit = '%') {
      const element = document.getElementById(elementId);
      if (!element) {
        console.error("Element not found:", elementId);
        return; // VÃ¤lju, kui elementi ei leita
      }

      const progressBarFill = element.querySelector('.progress-fill');
      const valueText = element.querySelector('.value-text');
      const label = element.querySelector('.label'); // Leiame ka sildi elemendi

      let percentage = 0;
      let displayText = '';

      // Veendu, et vÃ¤Ã¤rtused on numbrid
      currentValue = parseFloat(currentValue) || 0;
      maxValue = parseFloat(maxValue) || 100; // Vaikimisi 100, kui pole mÃ¤Ã¤ratud vÃµi on 0

      if (maxValue > 0) {
          if (unit === 'â‚¬') {
              percentage = Math.max(0, Math.min(100, (currentValue / maxValue) * 100));
              // Kasutame toFixed(2) tÃ¤psema euro summa jaoks, aga nÃ¤itame ilma komakohtadeta tekstis
              displayText = `${currentValue.toFixed(0)}â‚¬ / ${maxValue.toFixed(0)}â‚¬`;
          } else { // Vaikimisi protsent
              percentage = Math.max(0, Math.min(100, currentValue)); // Tagab, et vÃ¤Ã¤rtus jÃ¤Ã¤b 0-100 vahele
              displayText = `${percentage.toFixed(0)}${unit}`;
          }
      } else {
          // Juhuks kui maxValue on 0 vÃµi vigane
          percentage = 0;
          displayText = unit === 'â‚¬' ? `${currentValue.toFixed(0)}â‚¬ / ${maxValue.toFixed(0)}â‚¬ (Viga)` : `${currentValue.toFixed(0)}${unit}`;
      }

      // Uuenda riba laiust
      progressBarFill.style.width = `${percentage}%`;

      // Uuenda teksti riba sees
      valueText.textContent = displayText;

      // VALIKULINE: Muuda riba vÃ¤rvi vastavalt protsendile
      // Eelarve vÃ¤rv on fikseeritud sinine CSS-is

      // Tuju vÃ¤rv
      if (elementId === 'mood') {
        if (percentage < 30) {
          progressBarFill.style.backgroundColor = '#78909C'; // Hallikassinine (halb)
          valueText.style.color = 'white'; valueText.style.textShadow = '1px 1px 2px rgba(0, 0, 0, 0.8)'; // Tume tekstivalik tagasi
        } else if (percentage < 70) {
          progressBarFill.style.backgroundColor = '#FFEB3B'; // Kollane (okei)
          valueText.style.color = '#333'; valueText.style.textShadow = 'none'; // Hele taust -> tume tekst
        } else {
          progressBarFill.style.backgroundColor = '#CDDC39'; // Laimiroheline (hea)
          valueText.style.color = '#333'; valueText.style.textShadow = 'none'; // Hele taust -> tume tekst
        }
      }

      // Energia vÃ¤rv
      if (elementId === 'energy') {
        if (percentage < 30) {
          progressBarFill.style.backgroundColor = '#f44336'; // Punane (madal)
        } else if (percentage < 70) {
          progressBarFill.style.backgroundColor = '#FF9800'; // OranÅ¾ (keskmine)
        } else {
          progressBarFill.style.backgroundColor = '#8BC34A'; // Heleroheline (kÃµrge)
        }
      }

      // KÃµhu tÃ¤isolu vÃ¤rv (jÃ¤Ã¤b roosaks, aga vÃµiks ka muuta kui vaja)
      if (elementId === 'fullness') {
         if (percentage < 30) {
            progressBarFill.style.backgroundColor = '#f44336'; // Punane (madal)
        } else if (percentage < 70) {
          progressBarFill.style.backgroundColor = '#FF9800'; // OranÅ¾ (keskmine)
        } else {
          progressBarFill.style.backgroundColor = '#8BC34A'; // Heleroheline (kÃµrge)
        }
      }
    }

    // Uuenda kÃµiki ribasid lehe laadimisel esialgsete vÃ¤Ã¤rtustega
    updateProgressBar('budget', currentBudget, targetBudget, 'â‚¬');
    updateProgressBar('mood', currentMood, 100, '%');
    updateProgressBar('energy', currentEnergy, 100, '%');
    updateProgressBar('fullness', currentFullness, 100, '%');

    // --- VALIKULINE: Automaatsed muutused ---
    // Siia saab lisada koodi, mis muudab vÃ¤Ã¤rtusi aja jooksul
    // NÃ¤ide: VÃ¤henda energiat iga 5 minuti jÃ¤rel
    /*
    setInterval(() => {
      currentEnergy = Math.max(0, currentEnergy - 1); // VÃ¤henda energiat 1 vÃµrra, aga mitte alla 0
      updateProgressBar('energy', currentEnergy, 100, '%');
      console.log("Energia vÃ¤henes:", currentEnergy); // Logib konsooli (nÃ¤htav brauseri arendaja tÃ¶Ã¶riistades)
    }, 300000); // 300000 millisekundit = 5 minutit
    */

    // --- VALIKULINE: Muudatuste kuulamine ---
    // Kui soovid vÃ¤Ã¤rtusi muuta ilma faili redigeerimata (nt Stream Decki vÃµi chatikÃ¤suga),
    // on vaja keerukamat lahendust (nt WebSocket Ã¼hendus vÃµi faili jÃ¤lgimine),
    // mis vÃ¤ljub lihtsa HTML/CSS/JS raamest.

  });
</script>

</body>
</html>
