<!DOCTYPE html>
<html>
<head>
<title>Stream Overlay</title>
<meta charset="UTF-8">
<style>
  /* CSS stiilid */
  body {
    background-color: transparent; /* Oluline overlay jaoks */
    font-family: 'Trebuchet MS', 'Arial', sans-serif; /* V√µi m√µni muu sobiv font */
    color: white; /* Teksti vaikev√§rv */
    margin: 0;
    padding: 15px; /* √Ñ√§rtest veidi ruumi */
    overflow: hidden; /* V√§ldib kerimisribasid, kui sisu napilt √ºle mahub */
  }

  .overlay-container {
    display: flex;
    flex-direction: column; /* Elemendid √ºksteise all */
    gap: 12px; /* Vahe elementide vahel */
    width: 280px; /* Overlay laius - muuda vastavalt vajadusele */
  }

  .data-item {
    background-color: rgba(30, 30, 30, 0.7); /* Pooll√§bipaistev tume taust */
    padding: 12px;
    border-radius: 6px;
    border: 1px solid rgba(100, 100, 100, 0.5);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3); /* Kerge vari */
  }

  .label {
    font-size: 0.95em;
    font-weight: bold;
    margin-bottom: 6px;
    text-shadow: 1px 1px 2px black; /* Teksti vari loetavuse parandamiseks */
    color: #eee; /* Sildi v√§rv */
  }

  .progress-bar {
    width: 100%;
    height: 28px; /* Riba k√µrgus */
    background-color: #555; /* T√ºhja riba taust */
    border-radius: 4px;
    overflow: hidden; /* Hoiab t√§idise piirides */
    position: relative; /* Vajalik teksti positsioneerimiseks */
    border: 1px solid #777;
  }

  .progress-fill {
    height: 100%;
    background-color: #4CAF50; /* T√§idise vaikev√§rv (roheline) */
    border-radius: 4px 0 0 4px; /* √úmardab vasakpoolsed nurgad */
    transition: width 0.4s ease-out, background-color 0.4s ease; /* Sujuv √ºleminek laiusele ja v√§rvile */
    width: 0%; /* Algne laius */
    box-shadow: inset 0 -2px 4px rgba(0,0,0,0.3); /* Sissepoole vari efektiks */
  }

  /* Ribade eriv√§rvid */
  #budget .progress-fill { background-color: #03A9F4; } /* Sinine eelarvele */
  #mood .progress-fill { background-color: #FFEB3B; color: #333; } /* Kollane tujule (tume tekst) */
  #energy .progress-fill { background-color: #FF9800; color: #333; } /* Oran≈æ energiale */
  #fullness .progress-fill { background-color: #E91E63; color: #333; } /* Roosa t√§isk√µhule */

  .value-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 0.85em;
    font-weight: bold;
    color: white; /* Teksti v√§rv riba peal */
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8); /* Tugevam vari loetavuse tagamiseks */
    white-space: nowrap; /* V√§ldib teksti murdumist */
  }

  /* Teksti v√§rvi muutmine heledal taustal (nt kollane tuju riba) */
  #mood .value-text { color: #333; text-shadow: none; }

</style>
</head>
<body>

<div class="overlay-container">
  <div class="data-item" id="budget">
    <div class="label">Day budgetü™ôüí∂ü¶ä</div>
    <div class="progress-bar">
      <div class="progress-fill"></div>
      <div class="value-text"></div>
    </div>
  </div>

  <div class="data-item" id="mood">
    <div class="label">Mood‚ò∫Ô∏èüòëüòîü¶ä</div>
    <div class="progress-bar">
      <div class="progress-fill"></div>
      <div class="value-text"></div>
    </div>
  </div>

  <div class="data-item" id="energy">
    <div class="label">Energy‚ö°ü¶ä</div>
    <div class="progress-bar">
      <div class="progress-fill"></div>
      <div class="value-text"></div>
    </div>
  </div>

  <div class="data-item" id="fullness">
    <div class="label">HungerüçïüåÆüçîü¶ä</div>
    <div class="progress-bar">
      <div class="progress-fill"></div>
      <div class="value-text"></div>
    </div>
  </div>

</div>

<script>
  // K√§ivitub siis, kui HTML on laetud
  document.addEventListener('DOMContentLoaded', function() {

    // --- MUUDETAVAD V√Ñ√ÑRTUSED ---
    // Muuda neid v√§√§rtusi vastavalt hetkeolukorrale
    let currentBudget = 20;    // Praegune eelarve (‚Ç¨)
    let targetBudget = 80;   // Eesm√§rk eelarve (‚Ç¨) - see on 100%
    let currentMood = 80;     // Praegune tuju (0-100 %)
    let currentEnergy = 60;   // Praegune energia (0-100 %)
    let currentFullness = 100; // Praegune k√µhu t√§isolu (0-100 %)
    // --- MUUDETAVAD V√Ñ√ÑRTUSED L√ïPEVAD ---

    // Abifunktsioon riba ja teksti uuendamiseks
    // elementId: HTML elemendi ID (nt 'budget')
    // currentValue: Hetkev√§√§rtus (nt 75)
    // maxValue: V√§√§rtus, mis vastab 100%-le (nt 150 eelarve puhul, 100 teistel)
    // unit: √úhik, mida kuvada (nt '‚Ç¨' v√µi '%')
    function updateProgressBar(elementId, currentValue, maxValue, unit = '%') {
      const element = document.getElementById(elementId);
      if (!element) {
        console.error("Element not found:", elementId);
        return; // V√§lju, kui elementi ei leita
      }

      const progressBarFill = element.querySelector('.progress-fill');
      const valueText = element.querySelector('.value-text');
      const label = element.querySelector('.label'); // Leiame ka sildi elemendi

      let percentage = 0;
      let displayText = '';

      // Veendu, et v√§√§rtused on numbrid
      currentValue = parseFloat(currentValue) || 0;
      maxValue = parseFloat(maxValue) || 100; // Vaikimisi 100, kui pole m√§√§ratud v√µi on 0

      if (maxValue > 0) {
          if (unit === '‚Ç¨') {
              percentage = Math.max(0, Math.min(100, (currentValue / maxValue) * 100));
              // Kasutame toFixed(2) t√§psema euro summa jaoks, aga n√§itame ilma komakohtadeta tekstis
              displayText = `${currentValue.toFixed(0)}‚Ç¨ / ${maxValue.toFixed(0)}‚Ç¨`;
          } else { // Vaikimisi protsent
              percentage = Math.max(0, Math.min(100, currentValue)); // Tagab, et v√§√§rtus j√§√§b 0-100 vahele
              displayText = `${percentage.toFixed(0)}${unit}`;
          }
      } else {
          // Juhuks kui maxValue on 0 v√µi vigane
          percentage = 0;
          displayText = unit === '‚Ç¨' ? `${currentValue.toFixed(0)}‚Ç¨ / ${maxValue.toFixed(0)}‚Ç¨ (Viga)` : `${currentValue.toFixed(0)}${unit}`;
      }

      // Uuenda riba laiust
      progressBarFill.style.width = `${percentage}%`;

      // Uuenda teksti riba sees
      valueText.textContent = displayText;

      // VALIKULINE: Muuda riba v√§rvi vastavalt protsendile
      // Eelarve v√§rv on fikseeritud sinine CSS-is

      // Tuju v√§rv
      if (elementId === 'mood') {
        if (percentage < 30) {
          progressBarFill.style.backgroundColor = '#78909C'; // Hallikassinine (halb)
          valueText.style.color = 'white'; valueText.style.textShadow = '1px 1px 2px rgba(0, 0, 0, 0.8)'; // Tume tekstivalik tagasi
        } else if (percentage < 70) {
          progressBarFill.style.backgroundColor = '#FFEB3B'; // Kollane (okei)
          valueText.style.color = '#333'; valueText.style.textShadow = 'none'; // Hele taust -> tume tekst
        } else {
          progressBarFill.style.backgroundColor = '#CDDC39'; // Laimiroheline (hea)
          valueText.style.color = '#333'; valueText.style.textShadow = 'none'; // Hele taust -> tume tekst
        }
      }

      // Energia v√§rv
      if (elementId === 'energy') {
        if (percentage < 30) {
          progressBarFill.style.backgroundColor = '#f44336'; // Punane (madal)
        } else if (percentage < 70) {
          progressBarFill.style.backgroundColor = '#FF9800'; // Oran≈æ (keskmine)
        } else {
          progressBarFill.style.backgroundColor = '#8BC34A'; // Heleroheline (k√µrge)
        }
      }

      // K√µhu t√§isolu v√§rv (j√§√§b roosaks, aga v√µiks ka muuta kui vaja)
      if (elementId === 'fullness') {
         if (percentage < 30) {
            progressBarFill.style.backgroundColor = '#f44336'; // Punane (madal)
        } else if (percentage < 70) {
          progressBarFill.style.backgroundColor = '#FF9800'; // Oran≈æ (keskmine)
        } else {
          progressBarFill.style.backgroundColor = '#8BC34A'; // Heleroheline (k√µrge)
        }
      }
    }

    // Uuenda k√µiki ribasid lehe laadimisel esialgsete v√§√§rtustega
    updateProgressBar('budget', currentBudget, targetBudget, '‚Ç¨');
    updateProgressBar('mood', currentMood, 100, '%');
    updateProgressBar('energy', currentEnergy, 100, '%');
    updateProgressBar('fullness', currentFullness, 100, '%');

    // --- VALIKULINE: Automaatsed muutused ---
    // Siia saab lisada koodi, mis muudab v√§√§rtusi aja jooksul
    // N√§ide: V√§henda energiat iga 5 minuti j√§rel
    /*
    setInterval(() => {
      currentEnergy = Math.max(0, currentEnergy - 1); // V√§henda energiat 1 v√µrra, aga mitte alla 0
      updateProgressBar('energy', currentEnergy, 100, '%');
      console.log("Energia v√§henes:", currentEnergy); // Logib konsooli (n√§htav brauseri arendaja t√∂√∂riistades)
    }, 300000); // 300000 millisekundit = 5 minutit
    */

    // --- VALIKULINE: Muudatuste kuulamine ---
    // Kui soovid v√§√§rtusi muuta ilma faili redigeerimata (nt Stream Decki v√µi chatik√§suga),
    // on vaja keerukamat lahendust (nt WebSocket √ºhendus v√µi faili j√§lgimine),
    // mis v√§ljub lihtsa HTML/CSS/JS raamest.

  });
</script>

</body>
</html>
